@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400;1,9..40,500&family=DM+Serif+Display:ital@0;1&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   Font Variables
   ========================================== */

:root {
  --font-sans: "DM Sans", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  --font-display: "DM Serif Display", Georgia, "Times New Roman", serif;
}

/* ==========================================
   Base Styles - Minimalist & Elegant
   ========================================== */

@layer base {
  /* Smooth scrolling & selection */
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  ::selection {
    @apply bg-olive-300 text-earth-900;
  }

  /* Body defaults */
  body {
    @apply bg-white text-black font-sans;
  }

  /* Better focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-cream-500 ring-offset-2 ring-offset-white;
  }

  /* Remove default button styles */
  button {
    @apply cursor-pointer;
  }

  /* Better image defaults */
  img {
    @apply max-w-full h-auto;
  }

  /* Typography defaults - Elegant & Clean */
  h1, h2, h3, h4, h5, h6 {
    @apply font-display text-black tracking-tight;
  }

  h1 {
    @apply text-4xl md:text-5xl lg:text-display-lg font-medium leading-tight;
  }

  h2 {
    @apply text-3xl md:text-display-sm font-medium;
  }

  h3 {
    @apply text-2xl md:text-3xl font-medium;
  }

  h4 {
    @apply text-xl md:text-2xl font-medium;
  }

  p {
    @apply text-black leading-relaxed;
  }

  /* Link defaults */
  a {
    @apply transition-colors duration-300;
  }

  /* Smooth transitions on interactive elements */
  button, a, input, select, textarea {
    @apply transition-all duration-300;
  }
}

/* ==========================================
   Component Styles - Refined & Minimal
   ========================================== */

@layer components {
  /* Container */
  .container-custom {
    @apply max-w-7xl mx-auto px-5 sm:px-8 lg:px-12;
  }

  .container-narrow {
    @apply max-w-4xl mx-auto px-5 sm:px-8 lg:px-12;
  }

  /* Buttons - Editorial Style (no rounded corners) */
  .btn {
    @apply inline-flex items-center justify-center px-7 py-3.5 font-medium
           transition-all duration-300 ease-out
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed
           text-sm tracking-wide;
  }

  .btn-primary {
    @apply btn bg-earth-600 text-white
           hover:bg-earth-700
           focus:ring-earth-400;
  }

  .btn-secondary {
    @apply btn bg-cream-500 text-stone-800
           hover:bg-cream-600
           focus:ring-cream-400;
  }

  .btn-outline {
    @apply btn border border-stone-300 text-stone-800 bg-transparent
           hover:border-stone-400
           focus:ring-stone-300;
  }

  .btn-ghost {
    @apply btn text-stone-800 bg-transparent
           hover:bg-cream-100
           focus:ring-cream-400;
  }

  .btn-sm {
    @apply px-5 py-2.5 text-sm;
  }

  .btn-lg {
    @apply px-9 py-4 text-base;
  }

  /* Badges - Editorial Style */
  .badge {
    @apply inline-flex items-center px-3 py-1 text-xs font-medium tracking-widest uppercase;
  }

  .badge-primary {
    @apply badge bg-earth-100 text-earth-700;
  }

  .badge-accent {
    @apply badge bg-cream-200 text-cream-800;
  }

  .badge-secondary {
    @apply badge bg-olive-200 text-olive-800;
  }

  .badge-dark {
    @apply badge bg-stone-800 text-white;
  }

  /* Cards - Editorial Style (sharp corners) */
  .card {
    @apply bg-white shadow-soft border border-stone-200
           overflow-hidden transition-all duration-400
           hover:shadow-soft-lg;
  }

  .card-flat {
    @apply bg-cream-100 border border-stone-200
           overflow-hidden transition-all duration-300;
  }

  /* Form inputs - Editorial Style */
  .input {
    @apply w-full px-5 py-3.5
           bg-white border border-stone-300
           text-stone-800 placeholder-stone-400
           focus:outline-none focus:ring-1 focus:ring-stone-400 focus:border-stone-400
           transition-all duration-300;
  }

  .input-error {
    @apply border-red-400 focus:ring-red-300 focus:border-red-300;
  }

  .label {
    @apply block text-sm font-medium text-stone-700 mb-2;
  }

  .error-message {
    @apply text-sm text-red-600 mt-1.5;
  }

  /* Section spacing - Generous & Breathing */
  .section {
    @apply py-20 md:py-28 lg:py-32;
  }

  .section-sm {
    @apply py-14 md:py-20;
  }

  /* Price display */
  .price {
    @apply font-display font-medium text-black;
  }

  .price-original {
    @apply text-stone-400 line-through font-normal;
  }

  .price-discount {
    @apply text-olive-600 font-semibold;
  }

  /* Dividers */
  .divider {
    @apply h-px bg-gradient-to-r from-transparent via-cream-300 to-transparent;
  }

  /* Prose for blog content */
  .prose-custom {
    @apply max-w-none;
  }

  .prose-custom h1,
  .prose-custom h2,
  .prose-custom h3,
  .prose-custom h4 {
    @apply font-display text-black font-medium mb-4;
  }

  .prose-custom p {
    @apply text-black leading-relaxed mb-4;
  }

  .prose-custom a {
    @apply text-earth-600 no-underline hover:text-earth-700 hover:underline decoration-cream-500;
  }

  .prose-custom strong {
    @apply text-black font-semibold;
  }

  .prose-custom img {
    @apply rounded-2xl;
  }

  /* Glass effect */
  .glass {
    @apply bg-white/80 backdrop-blur-md border border-white/20;
  }

  /* Link with underline animation */
  .link-underline {
    @apply relative;
  }

  .link-underline::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-0.5 bg-earth-600 transition-all duration-300;
  }

  .link-underline:hover::after {
    @apply w-full;
  }

  /* ==========================================
     Premium UI Components
     ========================================== */

  /* Pills - Pack selectors (editorial style) */
  .pill {
    @apply relative inline-flex items-center justify-center px-4 py-2.5
           border border-stone-300
           text-sm font-medium text-stone-600 bg-white
           transition-all duration-300
           hover:border-stone-400 hover:bg-cream-50
           focus-visible:ring-1 focus-visible:ring-stone-400;
  }

  .pill-active {
    @apply border-earth-600 bg-earth-50 text-earth-700;
  }

  .pill-savings {
    @apply absolute -top-2 -right-2 px-2 py-0.5
           bg-olive-500 text-stone-900 text-[10px] font-bold
           shadow-sm z-10;
  }

  .pill-shipping {
    @apply absolute -bottom-2 left-1/2 -translate-x-1/2 px-2 py-0.5
           bg-earth-600 text-white text-[10px] font-bold
           shadow-sm whitespace-nowrap z-10;
  }

  /* Collapsible sections */
  .collapsible {
    @apply border-b border-cream-200;
  }

  .collapsible-trigger {
    @apply flex items-center justify-between w-full py-5
           text-left font-display text-lg font-medium text-black
           hover:text-earth-700 transition-colors;
  }

  .collapsible-icon {
    @apply w-5 h-5 text-stone-400 transition-transform duration-300;
  }

  .collapsible-icon-open {
    @apply rotate-180;
  }

  .collapsible-content {
    @apply overflow-hidden transition-all duration-300 ease-premium;
  }

  /* Sticky mobile CTA */
  .sticky-cta-mobile {
    @apply fixed bottom-0 left-0 right-0 p-4
           bg-white/95 backdrop-blur-md
           border-t border-stone-200 shadow-soft-lg
           transform transition-transform duration-300
           lg:hidden z-30;
  }

  .sticky-cta-hidden {
    @apply translate-y-full;
  }

  /* Image zoom container */
  .zoom-container {
    @apply relative overflow-hidden cursor-zoom-in;
  }

  .zoom-image {
    @apply transition-transform duration-500 ease-out;
  }

  .zoom-container:hover .zoom-image {
    @apply scale-110;
  }

  /* Trust badges (editorial style) */
  .trust-badge {
    @apply flex items-center gap-3 p-4
           bg-cream-100/50
           border border-stone-200;
  }

  .trust-badge-compact {
    @apply flex items-center gap-2 text-sm text-stone-500;
  }

  /* Progress bar */
  .progress-bar {
    @apply h-1 bg-stone-200 overflow-hidden;
  }

  .progress-fill {
    @apply h-full bg-earth-600 transition-all duration-500;
  }

  /* Testimonial card */
  .testimonial-quote {
    @apply font-display text-6xl text-cream-400 leading-none;
  }

  /* Rating stars */
  .rating-star {
    @apply w-4 h-4 fill-olive-500 text-olive-500;
  }

  .rating-star-empty {
    @apply w-4 h-4 fill-stone-200 text-stone-200;
  }

  /* Card hover effect (editorial style) */
  .card-premium {
    @apply bg-white shadow-soft border border-stone-100
           overflow-hidden transition-all duration-400
           hover:shadow-card-hover;
  }

  /* Skeleton loading */
  .skeleton {
    @apply animate-pulse bg-cream-200 rounded;
  }

  .skeleton-text {
    @apply skeleton h-4 w-full;
  }

  .skeleton-title {
    @apply skeleton h-6 w-3/4;
  }

  .skeleton-image {
    @apply skeleton aspect-product w-full;
  }
}

/* ==========================================
   Utility Styles
   ========================================== */

@layer utilities {
  /* Text gradient */
  .text-gradient-earth {
    @apply bg-gradient-to-r from-earth-600 to-taupe-500 bg-clip-text text-transparent;
  }

  .text-gradient-olive {
    @apply bg-gradient-to-r from-olive-500 to-olive-400 bg-clip-text text-transparent;
  }

  .text-gradient-teal {
    @apply bg-gradient-to-r from-cream-600 to-cream-500 bg-clip-text text-transparent;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar */
  .scrollbar-custom {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.cream.400') transparent;
  }
  .scrollbar-custom::-webkit-scrollbar {
    width: 6px;
  }
  .scrollbar-custom::-webkit-scrollbar-track {
    background: transparent;
  }
  .scrollbar-custom::-webkit-scrollbar-thumb {
    background: theme('colors.cream.400');
    border-radius: 3px;
  }

  /* Animation delays */
  .animation-delay-100 { animation-delay: 100ms; }
  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-500 { animation-delay: 500ms; }

  /* Aspect ratios */
  .aspect-product {
    aspect-ratio: 4 / 5;
  }

  .aspect-hero {
    aspect-ratio: 16 / 10;
  }

  .aspect-square-rounded {
    aspect-ratio: 1 / 1;
    @apply rounded-2xl;
  }

  /* Subtle background patterns */
  .bg-dots {
    background-image: radial-gradient(circle, theme('colors.cream.300') 1px, transparent 1px);
    background-size: 24px 24px;
  }

  .bg-grain {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.03;
  }

  /* Hover lift effect */
  .hover-lift {
    @apply transition-transform duration-300 hover:-translate-y-1;
  }

  /* Image zoom on hover */
  .img-zoom {
    @apply transition-transform duration-500 ease-out;
  }

  .group:hover .img-zoom {
    @apply scale-105;
  }
}

/* ==========================================
   Third-party overrides
   ========================================== */

/* Stripe Elements */
.StripeElement {
  @apply w-full px-5 py-3.5 bg-white border border-stone-300 rounded-xl;
}

.StripeElement--focus {
  @apply ring-2 ring-cream-500 border-cream-500;
}

.StripeElement--invalid {
  @apply border-red-400;
}

/* React Hot Toast customization */
.react-hot-toast {
  @apply font-sans;
}

/* ==========================================
   Custom animations
   ========================================== */

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.animate-pulse-soft {
  animation: pulse-soft 3s ease-in-out infinite;
}
